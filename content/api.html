<div id="apiDoc">
<h4>List of available  functions</h4>
<ul>
<li class="toggleApiDetails" onclick="toggleApiDetails(this)">
	<code>smartupdater("stop")</code> - to stop polling
			<div class="apiDetails">
			<code>$("#example1").smartupdater("stop");</code>
			</div>
	
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		
<code>smartupdater("restart")</code> to run polling again
<div class="apiDetails">
			<code>$("#example1").smartupdater("restart");</code>
			</div>
	</span>

</li>
<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		
<code>smartupdater("setTimeout",timeout)</code> - to set a new polling interval
<div class="apiDetails">

			<p><code>$("#example1").smartupdater("setTimeout",60000);</code></p>
			<p>timeout is set in miliseconds</p>
			
			
			</div>
	</span>

</li>


<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>smartupdater("alterUrl" [,url[,data]])</code> - to alter URL and/or callback function
<div class="apiDetails">

			<p><code>$("#example1").smartupdaterAlterUrl(url[,data])</code></p>
	<div><code>url</code> - new URL</div>
	<div><code>data</code> - Data to be sent to the server with this URL, optional</div>
<p>
	<ul style="list-style-type:disc;">
	<li>
	<p>to change URL:</p>
	<code>$("#example1").smartupdater("alterUrl","foobar.php")</code>
	</li>
	<li>
	<p>to change URL and data which is appended to the url for GET/POST request:</p>
	<code>$("#example1").smartupdater("alterUrl","foobar.php",{"foo":"bar"})</code>
	 </li>
	<li>
	<p>to change only data which is append to the current url for GET/POST request</p>
	<code>$("#example1").smartupdater("alterUrl", false, {"foo":"bar"})</code>
	</li><li>
	<p>to return to default set</p>
	<code>$("#example1").smartupdater("alterUrl")</code>
	</li>
	</ul>
	</p>
			

	</span>


</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>smartupdater("alterCallback" [,callback])</code> - to alter URL and/or callback function
<div class="apiDetails">
			<p>
	<ul style="list-style-type:disc;">
	<li>
	<p>to change callback function:</p>
	<code>$("#example1").smartupdater("alterCallback", foo);</code>
	</li>
	<li>
	<p>to return to default callback function:</p>
	<code>$("#example1").smartupdater("alterCallback");</code>
	 </li>
	</ul>
	</p>
			
			
			</div>
	</span>
</li>


</ul>

<h4>List of available  attributes</h4>
<ul>
<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>smartupdater("getState")</code> current state ( ON | OFF )
<div class="apiDetails">
			<code>var state = $("#example1").smartupdater("getState");</code>
			</div>
	</span>

</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>smartupdater("getTimeout")</code> current timeout
<div class="apiDetails">
			<code>var timeout = $("#example1").smartupdater("getTimeout");</code>
			</div>
	</span>

</li>
</ul>

<h4>List of available options</h4>
<ul>
<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>url</code> - URL for the ajax request. (Required!)
<div class="apiDetails">
			<a href="http://api.jquery.com/jQuery.ajax" target="_blank" >see jQuery.ajax for details</a>
			</div>
	</span>
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>type</code> - Can be either GET or POST
<div class="apiDetails">
			<a href="http://api.jquery.com/jQuery.ajax" target="_blank" >see jQuery.ajax for details</a>
			</div>
	</span>

</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>data</code> - Array of values to be passed to the page
<div class="apiDetails">
			<a href="http://api.jquery.com/jQuery.ajax" target="_blank" >see jQuery.ajax for details</a>
			</div>
	</span>
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>dataType</code> - Response type; can be text, xml, json etc.
<div class="apiDetails">
			<a href="http://api.jquery.com/jQuery.ajax" target="_blank" >see jQuery.ajax for details</a>
			</div>
	</span>
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>minTimeout</code> - Value for the timeout, in milliseconds.
<div class="apiDetails">
<code>
<pre>$("#example1").smartupdater({
    url : 'foo.php',<span class="option">
    minTimeout: 60000, 	// 1 minute by default</span>
    }, function (data) {
        ...
    }
);</pre>
</code>
			</div>
	</span>

</li>
<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>maxFailedRequests</code> - smartupdater stops after this number of consecutive ajax failures;
<div class="apiDetails">
<code>
<pre>$("#example1").smartupdater({
	url : 'fake.php',<span class="option">
	maxFailedRequests : 10, // default is 10</span>
	}, function (data) {
		...
	}
);
</pre>
</code>
<p>to stop after the first failed attempt set <code>maxFailedRequests:0</code></p>
			</div>
	</span>
</li>


<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>maxFailedRequestsCb</code> - smartupdater calls this function 
to handle "maxFailedRequests" event.

<div class="apiDetails">
<code>
<pre>$("#example1").smartupdater({
	  url : 'fake.php',<span class="option">
	  maxFailedRequestsCb : function(xhr, textStatus, errorThrown){ ... }</span>
	}, function (data) {
		...
	}
);
</pre>
</code>
<p>Smartupdater calls this function after   <code>maxFailedRequests</code> number of AJAX 
errors and passes ajax object as the 1st parameter and error info as 2nd and 3rd parameter ( see jQuery AJAX for details) 

</p>
</div>
</span>
</li>

			
<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>httpCache</code> - Activate http caching feature
<div class="apiDetails">
<pre>
$("#example1").smartupdater({
    url : 'foo.php',<span class="option">
    httpCache: true </span>
    }, function (data) {
       ...
    }
);
</pre>
<p>Default: <code>httpCache: false</code> </p>

	<ul style="list-style-type:disc;">
	<li>
	<p>validation header:<br/>
	Server sends <code>ETag</code>, Smartupdater returns <code>If-None-Match</code></p>
	</li>
	<li>
	<p>freshness header:<br/>
	Server sends <code>Last-Modified</code>, Smartupdater returns <code>If-Modified-Since</code></p>
	 </li>
	</ul>
	
	Server doesn't need to send <code>304 Not Modified</code> header to Smartupdater.
			
	</div>
	</span>
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>rCallback</code> - List of callback functions which are allowed to run remotely from server
<div class="apiDetails">
<code>
<pre>$("#example1").smartupdater({
	url : 'foo',<span class="option">
	rCallback: 'foo,bar' </span>
	}, function (data) {
		...
	}
);
</pre>
</code>
<p>There is no restriction on number of callback function in the list.<br/>
Default: <code>rCallback:false</code></p>
<p>
php code to set remote callback function:</p>
<p>
 <code>$xheader = '{"callback":"foo"}';<br/>
    header("X-Smartupdater:$xheader");</code>

</p>

</div>
	</span>
</li>




<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>smartStop</code> - Activate automatic Stops/Restarts depends on visibility and size of the element. 
<div class="apiDetails">

<pre>
$("#foo").smartupdater({
	url : 'foo.php',
	<span class="option">smartStop: {
		active:true,
		monitorTimeout:2500,
		minHeight:100,
		minWidth:100
		}</span>
	}, function (data) {
		...
		}
);
</pre>
<code>active:	false | true</code> ( mandatory, default is <code>false</code>)<br/>
<code>minHeight: integer</code> (optional, min height in pixels, default is <code>1</code>)<br/>
<code>minWidth:  integer</code> (optional, min width in pixels, default is <code>1</code>)<br/>
<code>monitorTimeout: milliseconds</code> (optional, default is <code>2500</code> ms)<br/><br/>

<b>Note:</b> though self-monitoring is small and fast function, too many elements at too short monitorTimeout can affect browser performance</div>
	</span>
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>selfStart</code> - Disable  aatomatic start.
<div class="apiDetails">

<pre>$("#example1").smartupdater({
    url : 'foo.php',<span class="option">
    selfStart: false, </span>
    }, function (data) {
        ...
    }
);</pre>


<p>By default Smartupdater is started automatically by itself imideately after it was created. 
If you don't need to run polling process imideately, you can 
disable self start by setting this option to <code>false</code>. 
Use <code>smartupdater("restart")</code> to start smartupdater.
</p>


</div>
</span>

</li>


</ul>

<h4>List of available  features</h4>
<ul>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
		  
<code>Remote Timeout</code> - Set timeout remotely from server
<div class="apiDetails">
no setting is needed
<p>
php code to set remote timeout:<br/><br/>
 <code>$xheader = '{"timeout":"60000"}';<br/>
    header("X-Smartupdater:$xheader");</code>

</p>

</div>
	</span>
</li>

<li>
<span class="toggleApiDetails" onclick="toggleApiDetails(this)">
<code>Feedback</code> - Smartupdater automatically sends its current timeout to server
<div class="apiDetails">
no setting is needed
<p>
custom http header:<br/><br/>
<b>header name:</b> X-Smartupdater<br/>
<b>data:</b> JSON<br/><br/><br/>
Example, how Smartupdater builds this header:<br/>
<code>xhr.setRequestHeader("X-Smartupdater", '{"timeout":"60000"}');
</code>
</p>

</div>
	</span>
</li>


</ul>





</div>